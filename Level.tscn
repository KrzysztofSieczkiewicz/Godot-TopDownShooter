[gd_scene load_steps=9 format=3 uid="uid://32bje8twpok7"]

[ext_resource type="Script" path="res://Main.gd" id="1_gqqd2"]
[ext_resource type="PackedScene" path="res://Player.tscn" id="2_8ixkj"]
[ext_resource type="Material" path="res://LevelGrid.tres" id="4_kpef2"]
[ext_resource type="Script" path="res://Spawner.gd" id="5_1cdj5"]
[ext_resource type="PackedScene" uid="uid://dq53cdr4fkjyi" path="res://Enemy.tscn" id="5_winnr"]
[ext_resource type="Script" path="res://Wave_1.gd" id="6_gv6ve"]

[sub_resource type="NavigationMesh" id="NavigationMesh_td0ms"]
vertices = PackedVector3Array(9.75, 0, -14.75, 19.25, 0, -14.75, 19.25, 0, -19.25, 6, 0, -14.75, 9.75, 0, -14.75, 19.25, 0, -19.25, 6, 0, -14.75, 19.25, 0, -19.25, -19.25, 0, -19.25, -19.25, 0, -14.75, -2, 0, -11, -2.5, 0, -10.5, 5.5, 0, -10.5, -2, 0, -13.75, -2, 0, -11, 5.5, 0, -10.5, 5.5, 0, -14.25, -5.25, 0, -14.25, 6, 0, -14.75, -19.25, 0, -14.75, -19.25, 0, -14.25, -2.5, 0, -14.25, -2, 0, -13.75, 5.5, 0, -14.25, 6, 0, -14.75, -5.25, 0, -14.25, -2.5, 0, -14.25, 6, 0, -14.75, 19.25, 0, -14.75, 9.75, 0, -14.75, 10.25, 0, -14.25, 10.25, 0, -10.5, 9.75, 0, -10, 19.25, 0, -10, 19.25, 0, -10, 19.25, 0, -14.75, 10.25, 0, -14.25, 10.25, 0, -10.5, -19.25, 0, -10.5, -5.25, 0, -10.5, -5.75, 0, -11, -5.75, 0, -13.75, -5.25, 0, -14.25, -19.25, 0, -14.25, -19.25, 0, -10.5, -5.75, 0, -11, -5.75, 0, -13.75, -19.25, 0, -14.25, 7, 7.5, -13.25, 7, 7.5, -11.5, 8.75, 7.5, -11.5, 8.75, 7.5, -13.25, 7.25, 0, -13, 7.25, 0, -11.75, 8.5, 0, -11.75, 8.5, 0, -13, -4.25, 4.75, -12.75, -4.25, 4.75, -12, -3.5, 4.75, -12, -3.5, 4.75, -12.75, 1.5, 0, -9, 6, 0, -10, 5.5, 0, -10.5, -2.5, 0, -10.5, -1.25, 0, -9, 19.25, 0, -9, 19.25, 0, -10, 9.75, 0, -10, 1.5, 0, -9, -19.25, 0, -9, -1.25, 0, -9, -5.25, 0, -10.5, -19.25, 0, -10.5, 1.5, 0, -9, 9.75, 0, -10, 6, 0, -10, -1.25, 0, -9, -2.5, 0, -10.5, -5.25, 0, -10.5, -19.25, 0, -5.25, -1.25, 0, -5.25, -1.75, 0, -5.75, -1.75, 0, -8.5, -1.25, 0, -9, -19.25, 0, -9, -19.25, 0, -5.25, -1.75, 0, -5.75, -1.75, 0, -8.5, -19.25, 0, -9, 19.25, 0, -9, 1.5, 0, -9, 2, 0, -8.5, 2, 0, -5.75, 1.5, 0, -5.25, 19.25, 0, -5.25, 19.25, 0, -5.25, 19.25, 0, -9, 2, 0, -8.5, 2, 0, -5.75, -0.25, 4.75, -7.5, -0.25, 4.75, -6.75, 0.25, 4.75, -6.75, 0.25, 4.75, -7.5, 19.25, 0, 19.25, 19.25, 0, -5.25, 1.5, 0, -5.25, -1.25, 0, -5.25, -19.25, 0, -5.25, -19.25, 0, 19.25, -1.25, 0, -5.25, -19.25, 0, 19.25, 19.25, 0, 19.25, 1.5, 0, -5.25)
polygons = [PackedInt32Array(2, 1, 0), PackedInt32Array(5, 4, 3), PackedInt32Array(9, 8, 6), PackedInt32Array(6, 8, 7), PackedInt32Array(12, 11, 10), PackedInt32Array(13, 16, 14), PackedInt32Array(14, 16, 15), PackedInt32Array(20, 19, 17), PackedInt32Array(17, 19, 18), PackedInt32Array(22, 21, 23), PackedInt32Array(23, 21, 24), PackedInt32Array(27, 26, 25), PackedInt32Array(30, 29, 28), PackedInt32Array(33, 32, 31), PackedInt32Array(37, 36, 34), PackedInt32Array(34, 36, 35), PackedInt32Array(40, 39, 38), PackedInt32Array(41, 43, 42), PackedInt32Array(45, 44, 46), PackedInt32Array(46, 44, 47), PackedInt32Array(51, 50, 48), PackedInt32Array(48, 50, 49), PackedInt32Array(55, 54, 52), PackedInt32Array(52, 54, 53), PackedInt32Array(59, 58, 56), PackedInt32Array(56, 58, 57), PackedInt32Array(64, 63, 60), PackedInt32Array(60, 63, 62), PackedInt32Array(60, 62, 61), PackedInt32Array(66, 65, 67), PackedInt32Array(67, 65, 68), PackedInt32Array(72, 71, 69), PackedInt32Array(69, 71, 70), PackedInt32Array(75, 74, 73), PackedInt32Array(76, 78, 77), PackedInt32Array(81, 80, 79), PackedInt32Array(84, 83, 82), PackedInt32Array(86, 85, 87), PackedInt32Array(87, 85, 88), PackedInt32Array(91, 90, 89), PackedInt32Array(94, 93, 92), PackedInt32Array(98, 97, 95), PackedInt32Array(95, 97, 96), PackedInt32Array(102, 101, 99), PackedInt32Array(99, 101, 100), PackedInt32Array(105, 104, 103), PackedInt32Array(108, 107, 106), PackedInt32Array(112, 111, 109), PackedInt32Array(109, 111, 110)]
sample_partition_type = 1
agent_height = 0.5
agent_radius = 0.75
vertices_per_polygon = 8.0
detail_sample_distance = 3.0

[sub_resource type="BoxMesh" id="BoxMesh_b5bw0"]
size = Vector3(2, 5.08, 2)

[node name="Level" type="Node3D"]
script = ExtResource("1_gqqd2")

[node name="Player" parent="." instance=ExtResource("2_8ixkj")]
collision_layer = 2
collision_mask = 3

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.73038, 0.534329, -0.425485, -0.00623602, 0.628118, 0.778093, 0.683013, -0.56565, 0.462097, -17.8565, 11.8901, 17.9643)
shadow_enabled = true

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(1, -8.73357e-09, -2.59573e-09, 6.61475e-09, 0.5, 0.866025, -6.26563e-09, -0.866025, 0.5, 0.0246363, 15.4117, 13.2064)

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0985227, -0.0158694, -0.116805)
navigation_mesh = SubResource("NavigationMesh_td0ms")
metadata/_edit_lock_ = true

[node name="Ground" type="CSGBox3D" parent="NavigationRegion3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1, 0)
use_collision = true
size = Vector3(40, 1, 40)
material = ExtResource("4_kpef2")
metadata/_edit_lock_ = true

[node name="CSGMesh3D" type="CSGMesh3D" parent="NavigationRegion3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.896941, 1.8087, -6.87729)
use_collision = true
mesh = SubResource("BoxMesh_b5bw0")
material = ExtResource("4_kpef2")

[node name="CSGMesh3D2" type="CSGMesh3D" parent="NavigationRegion3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.90888, 1.10355, -12.8916)
use_collision = true
mesh = SubResource("BoxMesh_b5bw0")
material = ExtResource("4_kpef2")

[node name="CSGMesh3D3" type="CSGMesh3D" parent="NavigationRegion3D"]
transform = Transform3D(-6.75791e-08, 1.54603, 0, -1.54603, -6.75791e-08, 0, 0, 0, 1.54603, 8.09618, 0.991025, -7.95855)
use_collision = true
mesh = SubResource("BoxMesh_b5bw0")
material = ExtResource("4_kpef2")

[node name="Spawner" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.06951, 0.810623, -14.6929)
script = ExtResource("5_1cdj5")
Enemy = ExtResource("5_winnr")

[node name="Timer" type="Timer" parent="Spawner"]

[node name="Waves" type="Node" parent="Spawner"]

[node name="Wave_1" type="Node" parent="Spawner/Waves"]
script = ExtResource("6_gv6ve")
spawn_interval_seconds = 4.0

[node name="Wave_2" type="Node" parent="Spawner/Waves"]
script = ExtResource("6_gv6ve")
num_enemies = 5
spawn_interval_seconds = 2.0

[node name="Wave_3" type="Node" parent="Spawner/Waves"]
script = ExtResource("6_gv6ve")
num_enemies = 9
spawn_interval_seconds = 1.0

[connection signal="timeout" from="Spawner/Timer" to="Spawner" method="_on_timer_timeout"]
